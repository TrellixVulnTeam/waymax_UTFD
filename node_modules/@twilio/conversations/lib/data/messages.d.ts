/// <reference types="node" />
import { EventEmitter } from 'events';
import { Message } from '../message';
import { Conversation } from '../conversation';
import { SyncList, SyncClient } from 'twilio-sync';
import { SyncPaginator } from '../syncpaginator';
import { Session } from '../session';
import { McsClient } from 'twilio-mcs-client';
import { Network } from '../services/network';
export interface MessagesServices {
    session: Session;
    mcsClient: McsClient;
    network: Network;
    syncClient: SyncClient;
}
/**
 * Represents the collection of messages in a conversation
 */
declare class Messages extends EventEmitter {
    private readonly services;
    private readonly messagesByIndex;
    private messagesListPromise;
    readonly conversation: Conversation;
    constructor(conversation: Conversation, services: MessagesServices);
    /**
     * Subscribe to the Messages Event Stream
     * @param {String} name - The name of Sync object for the Messages resource.
     * @returns {Promise}
     */
    subscribe(name: string): Promise<SyncList>;
    unsubscribe(): Promise<void>;
    /**
     * Send Message to the conversation
     * @param {String} message - Message to post
     * @param {any} attributes Message attributes
     * @param {Conversation.SendEmailOptions} emailOptions Options that modify E-mail integration behaviors.
     * @returns Returns promise which can fail
     */
    send(message: string, attributes?: any, emailOptions?: Conversation.SendEmailOptions): Promise<any>;
    /**
     * Send Media Message to the conversation
     * @param {FormData | Conversation#SendMediaOptions} mediaContent - Media content to post
     * @param {any} attributes Message attributes
     * @returns Returns promise which can fail
     */
    sendMedia(mediaContent: FormData | Conversation.SendMediaOptions, attributes?: any, emailOptions?: Conversation.SendEmailOptions): Promise<any>;
    /**
     * Returns messages from conversation using paginator interface
     * @param {Number} [pageSize] Number of messages to return in single chunk. By default it's 30.
     * @param {String} [anchor] Most early message id which is already known, or 'end' by default
     * @param {String} [direction] Pagination order 'backwards' or 'forward', or 'forward' by default
     * @returns {Promise<Paginator<Message>>} last page of messages by default
     */
    getMessages(pageSize: any, anchor: any, direction: any): Promise<SyncPaginator<Message>>;
    private wrapPaginator;
    private _upsertMessage;
    /**
     * Returns last messages from conversation
     * @param {Number} [pageSize] Number of messages to return in single chunk. By default it's 30.
     * @param {String} [anchor] Most early message id which is already known, or 'end' by default
     * @param {String} [direction] Pagination order 'backwards' or 'forward', or 'forward' by default
     * @returns {Promise<SyncPaginator<Message>>} last page of messages by default
     * @private
     */
    private _getMessages;
}
export { Messages };
